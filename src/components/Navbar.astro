---
import logo from "../assets/logo.svg";

const navLinks = [
    { name: "Home", href: "/" },
    { name: "Members", href: "/Members" },
    { name: "Services", href: "/Services"},
    { name: "Recruitment", href: "/Recruitment" }
];

const socialLinks = [
    { icon: "fab fa-linkedin", href: "https://www.linkedin.com/company/ccg-collegiate-consulting-group/" },
    { icon: "fab fa-instagram", href: "https://www.instagram.com/ccgbrown/" },
    { icon: "fab fa-facebook", href: "https://www.facebook.com/ccgbrown/" }
];
---

<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
</head>

<!--
    todo:
    - add some nav link animation such as the sliding from left to right
    - animation when loading in maybe some sort of fade in
    - idk if I like the color that much might change as well and idk about the social links
-->

<nav class="h-auto md:h-[100px] px-4 md:px-6 border-b border-gray-300 bg-white sticky top-0 z-50">
    <div class="max-w-7xl w-full mx-auto flex justify-between items-center py-4 md:py-0">
        <!-- Logo -->
        <a href="/" class="flex items-center">
            <img src={logo.src} alt="Logo" class="h-8 md:h-10 w-auto">
        </a>

        <!-- Desktop Navigation -->
        <div class="hidden md:flex items-center justify-end w-full">
            <!-- Nav Links -->
            <ul class="flex items-center gap-8 h-[100px]">
                {navLinks.map((link) => (
                    <li>
                        <a href={link.href} class="text-gray-900 font-almarai hover:text-[#c32727] transition">
                            {link.name}
                        </a>
                    </li>
                ))}
            </ul>

            <!-- Social Links -->
            <div class="flex items-center space-x-8 ml-10">
                {socialLinks.map((link) => (
                    <a
                        href={link.href}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="text-xl text-gray-900 hover:text-[#c32727] transition"
                    >
                        <i class={link.icon}></i>
                    </a>
                ))}
            </div>
        </div>

        <!-- Mobile Hamburger Menu -->
        <button class="md:hidden text-gray-800 text-3xl flex items-center" id="hamburger-btn">
            <i class="fas fa-bars" id="menu-icon"></i>
        </button>
    </div>

    <!-- Mobile Menu (Hidden by default) -->
    <div id="mobile-menu" class="hidden md:hidden w-full bg-white absolute left-0 top-[68px] border-t border-gray-200 shadow-md transition-all duration-300 ease-in-out opacity-0 transform translate-y-[-10px]">
        <div class="px-6 py-6">
            <ul class="flex flex-col space-y-6">
                {navLinks.map((link) => (
                    <li>
                        <a href={link.href} class="text-gray-900 font-almarai text-lg hover:text-[#c32727] transition block">
                            {link.name}
                        </a>
                    </li>
                ))}
            </ul>

            <!-- Social Links (Mobile) -->
            <div class="flex space-x-8 mt-8 justify-center">
                {socialLinks.map((link) => (
                    <a
                        href={link.href}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="text-xl text-gray-900 hover:text-[#c32727] transition"
                    >
                        <i class={link.icon}></i>
                    </a>
                ))}
            </div>
        </div>
    </div>
</nav>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIcon = document.getElementById('menu-icon');
        
        hamburgerBtn.addEventListener('click', () => {
            // Toggle the visibility
            const isHidden = mobileMenu.classList.contains('hidden');
            
            if (isHidden) {
                // Show the menu
                mobileMenu.classList.remove('hidden');
                mobileMenu.classList.add('flex', 'flex-col');
                
                // Animate in
                setTimeout(() => {
                    mobileMenu.classList.remove('opacity-0', 'translate-y-[-10px]');
                    mobileMenu.classList.add('opacity-100', 'translate-y-0');
                }, 10);
                
                // Change icon
                menuIcon.classList.remove('fa-bars');
                menuIcon.classList.add('fa-times');
            } else {
                // Animate out
                mobileMenu.classList.remove('opacity-100', 'translate-y-0');
                mobileMenu.classList.add('opacity-0', 'translate-y-[-10px]');
                
                // Hide after animation completes
                setTimeout(() => {
                    mobileMenu.classList.remove('flex', 'flex-col');
                    mobileMenu.classList.add('hidden');
                }, 300);
                
                // Change icon
                menuIcon.classList.remove('fa-times');
                menuIcon.classList.add('fa-bars');
            }
        });
        
        // Close menu when clicking on links
        const mobileLinks = mobileMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                // Hide menu
                mobileMenu.classList.remove('opacity-100', 'translate-y-0');
                mobileMenu.classList.add('opacity-0', 'translate-y-[-10px]');
                
                setTimeout(() => {
                    mobileMenu.classList.remove('flex', 'flex-col');
                    mobileMenu.classList.add('hidden');
                }, 300);
                
                // Reset icon
                menuIcon.classList.remove('fa-times');
                menuIcon.classList.add('fa-bars');
            });
        });
        
        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768) {
                // Reset mobile menu state on desktop
                mobileMenu.classList.add('hidden');
                mobileMenu.classList.remove('flex', 'flex-col', 'opacity-100', 'translate-y-0');
                mobileMenu.classList.add('opacity-0', 'translate-y-[-10px]');
                
                // Reset icon
                menuIcon.classList.remove('fa-times');
                menuIcon.classList.add('fa-bars');
            }
        });
    });
</script>