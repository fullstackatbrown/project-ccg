---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';
import { contentfulClient } from "../lib/contentful";

const entries = await contentfulClient.getEntries({
  content_type: "recruitment"
});

const recruitment = entries.items.map(entry => ({
  description: entry.fields.description,
  application: entry.fields.fallApplication,
  email: entry.fields.ccgEmail,
  annualReport: entry.fields.annualReport,
  timeline: entry.fields.timeline?.fields.file.url,
  images: entry.fields.additionalImages,
}));
---

<Layout>
	<div class="flex flex-col min-h-screen">
    <Navbar />
		<!-- Hero Section -->
		<section class="relative w-full h-[60vh] flex items-center justify-center overflow-hidden rounded-b-4xl">
			<!-- Background Image -->
			<img 
				src="/src/assets/images/quietgreen.jpg" 
				alt="Quiet green image" 
				class="relative min-w-full h-full object-cover object-center md:object-[50%_20%] scale-100 md:scale-110 lg:scale-100 transition-all duration-500"
			>

      <!-- Dark Overlay (for contrast) -->
      <div class="absolute w-full h-full bg-black opacity-40"></div>

      <!-- Overlay Text -->
      <div class="absolute bottom-4 left-4 text-white text-8xl font-bold fade-in" style="font-family: 'Almarai', sans-serif;">
          Join CCG
      </div>
    </section>

    <!-- Recruitment Status Banner -->
    <div class="flex items-center justify-center py-8 bg-white">
      <p class="text-xl text-gray-700">
        {recruitment[0].application}
      </p>
    </div>

    <!-- Mission Statement -->
    <div class="py-12 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center text-black text-[24px] fade-in" style="font-family: 'Arimo', sans-serif;">
          Student consultants at Brown's Collegiate Consulting Group gain access to real-world consulting experience, professional development opportunities, and a tight-knit campus community.
        </div>
      </div>
    </div>

    <!-- Why CCG Section Header -->
    <div class="py-8 bg-white">
      <div class="container mx-auto px-4">
        <div class="text-center fade-in">
          <h2 class="text-[64px]" style="font-family: 'Arimo', sans-serif; font-style: italic; font-weight: 700; color: #0B144A;">
            Why CCG?
          </h2>
          <div class="flex items-center justify-center my-6">
            <div class="w-12 h-1 bg-red-700"></div>
            <div class="w-3 h-3 rounded-full bg-red-700 ml-1"></div>
            <div class="w-12 h-1 bg-red-700 ml-1"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Alternating Sections -->
    <section class="w-full bg-white text-black">
      <div class="w-full">
        <!-- Section 1: Real Experience (Text Right, Image Left) -->
        <div class="flex flex-col md:flex-row items-stretch">
          <div class="w-full md:w-1/2 min-h-[400px] bg-white">
            <img src="/src/assets/images/r1.jpg" alt="Real Experience" class="w-full h-full object-cover">
          </div>
          <div class="w-full md:w-1/2 p-8 md:p-16 lg:p-24 flex flex-col justify-center fade-in">
            <h2 class="text-3xl md:text-4xl font-bold text-center">Real Experience</h2>
            <div class="flex items-center justify-center my-6">
              <div class="w-12 h-1 bg-red-700"></div>
              <div class="w-3 h-3 rounded-full bg-red-700 ml-1"></div>
              <div class="w-12 h-1 bg-red-700 ml-1"></div>
            </div>
            <p class="text-lg text-gray-800 text-center">
              Work with real clients on challenging projects that impact their businesses. From market analysis to strategic recommendations, you'll gain hands-on experience solving complex problems while developing professional consulting skills.
            </p>
          </div>
        </div>
        
        <!-- Section 2: Skills Development (Text Left, Image Right) -->
        <div class="flex flex-col md:flex-row-reverse items-stretch">
          <div class="w-full md:w-1/2 min-h-[400px]">
            <img src="/src/assets/images/r1.jpg" alt="Skills Development" class="w-full h-full object-cover">
          </div>
          <div class="w-full md:w-1/2 p-8 md:p-16 lg:p-24 flex flex-col justify-center bg-white fade-in">
            <h2 class="text-3xl md:text-4xl font-bold text-center">Skills Development</h2>
            <div class="flex items-center justify-center my-6">
              <div class="w-12 h-1 bg-red-700"></div>
              <div class="w-3 h-3 rounded-full bg-red-700 ml-1"></div>
              <div class="w-12 h-1 bg-red-700 ml-1"></div>
            </div>
            <p class="text-lg text-gray-800 text-center">
              Develop essential consulting skills through our comprehensive training program. Learn problem-solving frameworks, financial analysis, presentation techniques, and client management directly from industry professionals and experienced peers.
            </p>
          </div>
        </div>
        
        <!-- Section 3: Career Opportunities (Text Right, Image Left) -->
        <div class="flex flex-col md:flex-row items-stretch">
          <div class="w-full md:w-1/2 min-h-[400px] bg-white">
            <img src="/src/assets/images/r1.jpg" alt="Career Opportunities" class="w-full h-full object-cover">
          </div>
          <div class="w-full md:w-1/2 p-8 md:p-16 lg:p-24 flex flex-col justify-center fade-in">
            <h2 class="text-3xl md:text-4xl font-bold text-center">Career Opportunities</h2>
            <div class="flex items-center justify-center my-6">
              <div class="w-12 h-1 bg-red-700"></div>
              <div class="w-3 h-3 rounded-full bg-red-700 ml-1"></div>
              <div class="w-12 h-1 bg-red-700 ml-1"></div>
            </div>
            <p class="text-lg text-gray-800 text-center">
              CCG alumni secure positions at top consulting firms, investment banks, tech companies, and startups. Our network opens doors to internships and full-time roles, with personalized resume reviews, interview preparation, and connections to industry professionals.
            </p>
          </div>
        </div>
        
        <!-- Section 4: Community (Text Left, Image Right) -->
        <div class="flex flex-col md:flex-row-reverse items-stretch">
          <div class="w-full md:w-1/2 min-h-[400px]">
            <img src="/src/assets/images/r1.jpg" alt="Community" class="w-full h-full object-cover">
          </div>
          <div class="w-full md:w-1/2 p-8 md:p-16 lg:p-24 flex flex-col justify-center bg-white fade-in">
            <h2 class="text-3xl md:text-4xl font-bold text-center">Community</h2>
            <div class="flex items-center justify-center my-6">
              <div class="w-12 h-1 bg-red-700"></div>
              <div class="w-3 h-3 rounded-full bg-red-700 ml-1"></div>
              <div class="w-12 h-1 bg-red-700 ml-1"></div>
            </div>
            <p class="text-lg text-gray-800 text-center">
              Join a diverse, tight-knit community of driven students passionate about business and consulting. Build lifelong friendships through social events, team activities, and collaborative projects while creating a strong professional network.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Application Information Section -->
    <section class="w-full py-20 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center mb-12 fade-in">
          <h2 class="text-4xl md:text-5xl font-bold mb-6" style="font-family: 'Arimo', sans-serif; color: #0B144A;">
            Application Information
          </h2>
          <div class="flex items-center justify-center mb-8">
            <div class="w-12 h-1 bg-red-700"></div>
            <div class="w-3 h-3 rounded-full bg-red-700 ml-1"></div>
            <div class="w-12 h-1 bg-red-700 ml-1"></div>
          </div>
          <p class="text-xl text-gray-700">
            {recruitment[0].application}
          </p>
		  <div class="text-center text-xl text-gray-700 mt-3">
			Please feel free to contact us with any questions at 
			<a href={`mailto:${recruitment[0].email}`} class="text-blue-600 underline">
			{recruitment[0].email}
			</a>
		</div>
        </div>
		<div class="flex justify-center mt-10">
			<img src={recruitment[0].timeline} alt="Application Timeline" class="w-full max-w-3xl md:max-w-2xl lg:max-w-3xl rounded-lg shadow-md">
		</div>
      </div>
    </section>

    <!-- Process Section -->
    <section class="w-full py-20 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center mb-12 fade-in">
          <h2 class="text-4xl md:text-5xl font-bold mb-6" style="font-family: 'Arimo', sans-serif; color: #0B144A;">
            Our Recruitment Process
          </h2>
          <div class="flex items-center justify-center mb-8">
            <div class="w-12 h-1 bg-red-700"></div>
            <div class="w-3 h-3 rounded-full bg-red-700 ml-1"></div>
            <div class="w-12 h-1 bg-red-700 ml-1"></div>
          </div>
          <p class="text-xl text-gray-700">
            Join CCG through our comprehensive recruitment process designed to identify passionate and talented consultants.
          </p>
        </div>
        
        <!-- Timeline -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- Step 1 -->
          <div class="bg-white p-6 rounded-lg shadow-lg text-center fade-in">
            <div class="h-16 w-16 bg-red-700 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">1</div>
            <h3 class="text-2xl font-bold mb-3">Application</h3>
            <p class="text-gray-700">Submit your resume and answer a few short questions about your interest in consulting and CCG.</p>
          </div>
          
          <!-- Step 2 -->
          <div class="bg-white p-6 rounded-lg shadow-lg text-center fade-in fade-in-delay-1">
            <div class="h-16 w-16 bg-red-700 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">2</div>
            <h3 class="text-2xl font-bold mb-3">Case Interview</h3>
            <p class="text-gray-700">Demonstrate your problem-solving abilities through a business case analysis with our team.</p>
          </div>
          
          <!-- Step 3 -->
          <div class="bg-white p-6 rounded-lg shadow-lg text-center fade-in fade-in-delay-2">
            <div class="h-16 w-16 bg-red-700 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">3</div>
            <h3 class="text-2xl font-bold mb-3">Final Interview</h3>
            <p class="text-gray-700">Meet with our leadership team to discuss your background, interests, and fit with CCG's culture.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Join Email List Section (Blank for future implementation) -->
    <section class="w-full py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center mb-12 fade-in">
          <h2 class="text-4xl md:text-5xl font-bold mb-6" style="font-family: 'Arimo', sans-serif; color: #0B144A;">
            Join Our Email List
          </h2>
          <div class="flex items-center justify-center mb-8">
            <div class="w-12 h-1 bg-red-700"></div>
            <div class="w-3 h-3 rounded-full bg-red-700 ml-1"></div>
            <div class="w-12 h-1 bg-red-700 ml-1"></div>
          </div>
          <p class="text-xl text-gray-700">
            Stay updated on CCG events, recruitment cycles, and opportunities.
          </p>
        </div>
        
	<div class="bg-white p-8 rounded-lg shadow-lg text-center fade-in h-auto">
	<h2 class="text-xl font-semibold mb-4">Stay in the loop</h2>
	<form id="signup-form" class="flex flex-col items-center justify-center gap-4">
		<div class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">
		<input
			type="text"
			name="firstName"
			required
			placeholder="First Name"
			class="w-full sm:w-40 px-4 py-2 border border-gray-300 rounded-md"
		/>
		<input
			type="text"
			name="lastName"
			required
			placeholder="Last Name"
			class="w-full sm:w-40 px-4 py-2 border border-gray-300 rounded-md"
		/>
		</div>
		<input
		type="email"
		name="email"
		required
		placeholder="example@gmail.com"
		class="w-full sm:w-96 px-4 py-2 border border-gray-300 rounded-md"
		/>
		<button
		type="submit"
		class="px-6 py-2 bg-[#C32727] text-white rounded-md hover:bg-[#9c2525] transition"
		>
		Sign Up
		</button>
		<p id="form-success" class="text-green-500 hidden">Thanks for signing up!</p>
	</form>
	</div>

	<script>
	const form = document.getElementById('signup-form');
	const successMsg = document.getElementById('form-success');

	form.addEventListener('submit', async (e) => {
		e.preventDefault();

		const formData = new FormData(form);
		const data = {
		firstName: formData.get('firstName'),
		lastName: formData.get('lastName'),
		email: formData.get('email'),
		};

		try {
		const response = await fetch('https://script.google.com/macros/s/AKfycbx2-9HG2HtD0N6eJXpnZ8k-Oq-U__lJBVg1xzn4dz43hIQl4zq4x9vZ0R34xQ4RH2bw/exec', {
			method: 'POST',
			body: JSON.stringify(data),
			headers: { 'Content-Type': 'application/json' },
		});

		if (response.ok) {
			form.reset();
			successMsg.classList.remove('hidden');
		} else {
			alert('Something went wrong. Please try again.');
		}
		} catch (err) {
		console.error(err);
		alert('Submission failed. Please check your internet connection.');
		}
	});
	</script>




    <!-- FAQ Section -->
    <section class="w-full py-20 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center mb-12 fade-in">
          <h2 class="text-4xl md:text-5xl font-bold mb-6" style="font-family: 'Arimo', sans-serif; color: #0B144A;">
            Frequently Asked Questions
          </h2>
          <div class="flex items-center justify-center mb-8">
            <div class="w-12 h-1 bg-red-700"></div>
            <div class="w-3 h-3 rounded-full bg-red-700 ml-1"></div>
            <div class="w-12 h-1 bg-red-700 ml-1"></div>
          </div>
        </div>
        
        <!-- FAQ Accordion -->
        <div class="max-w-3xl mx-auto">
          <!-- FAQ Item 1 -->
          <div class="mb-4 fade-in">
            <div class="accordion-header bg-white px-6 py-4 rounded-lg shadow-md cursor-pointer flex justify-between items-center">
              <h3 class="text-xl font-semibold">Do I need prior consulting experience to join CCG?</h3>
              <svg class="accordion-arrow w-6 h-6 transform transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </div>
            <div class="accordion-content bg-white px-6 py-0 max-h-0 overflow-hidden transition-all duration-300 rounded-b-lg">
              <div class="py-4">
                <p class="text-gray-700">No prior consulting experience is required! We look for students with strong analytical thinking, problem-solving abilities, and a passion for business. Our comprehensive training program will help you develop all the necessary skills to excel as a consultant.</p>
              </div>
            </div>
          </div>
          
          <!-- FAQ Item 2 -->
          <div class="mb-4 fade-in fade-in-delay-1">
            <div class="accordion-header bg-white px-6 py-4 rounded-lg shadow-md cursor-pointer flex justify-between items-center">
              <h3 class="text-xl font-semibold">How much time commitment is expected?</h3>
              <svg class="accordion-arrow w-6 h-6 transform transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </div>
            <div class="accordion-content bg-white px-6 py-0 max-h-0 overflow-hidden transition-all duration-300 rounded-b-lg">
              <div class="py-4">
                <p class="text-gray-700">CCG members typically commit 5-10 hours per week, which includes client project work, weekly team meetings, and occasional training sessions. The time commitment may vary depending on project deadlines and your specific role on the team.</p>
              </div>
            </div>
          </div>
          
          <!-- FAQ Item 3 -->
          <div class="mb-4 fade-in fade-in-delay-2">
            <div class="accordion-header bg-white px-6 py-4 rounded-lg shadow-md cursor-pointer flex justify-between items-center">
              <h3 class="text-xl font-semibold">What majors or concentrations do you look for?</h3>
              <svg class="accordion-arrow w-6 h-6 transform transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </div>
            <div class="accordion-content bg-white px-6 py-0 max-h-0 overflow-hidden transition-all duration-300 rounded-b-lg">
              <div class="py-4">
                <p class="text-gray-700">We welcome students from all academic backgrounds! Our members represent diverse majors including Economics, Computer Science, Applied Mathematics, International Relations, Biology, and many others. We value diverse perspectives and believe they lead to more innovative solutions for our clients.</p>
              </div>
            </div>
          </div>
          
          <!-- FAQ Item 4 -->
          <div class="mb-4 fade-in fade-in-delay-3">
            <div class="accordion-header bg-white px-6 py-4 rounded-lg shadow-md cursor-pointer flex justify-between items-center">
              <h3 class="text-xl font-semibold">What kinds of clients do CCG members work with?</h3>
              <svg class="accordion-arrow w-6 h-6 transform transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </div>
            <div class="accordion-content bg-white px-6 py-0 max-h-0 overflow-hidden transition-all duration-300 rounded-b-lg">
              <div class="py-4">
                <p class="text-gray-700">Our clients range from local startups and nonprofits to established companies and organizations. Projects span various industries including technology, healthcare, education, finance, and social impact. This diversity provides members with exposure to different business models and challenges.</p>
              </div>
            </div>
          </div>
          
          <!-- FAQ Item 5 -->
          <div class="mb-4 fade-in fade-in-delay-3">
            <div class="accordion-header bg-white px-6 py-4 rounded-lg shadow-md cursor-pointer flex justify-between items-center">
              <h3 class="text-xl font-semibold">How can I prepare for the recruitment process?</h3>
              <svg class="accordion-arrow w-6 h-6 transform transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </div>
            <div class="accordion-content bg-white px-6 py-0 max-h-0 overflow-hidden transition-all duration-300 rounded-b-lg">
              <div class="py-4">
                <p class="text-gray-700">To prepare for our recruitment process, we recommend familiarizing yourself with basic business concepts and practicing case interviews. We host case preparation workshops at the beginning of each recruitment cycle. Additionally, researching our past projects and understanding our mission will help you articulate why you're interested in joining CCG.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <Footer />
  </div>
</Layout>

<style>
  /* Fade-in animation classes */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .fade-in-delay-1 {
    transition-delay: 0.2s;
  }

  .fade-in-delay-2 {
    transition-delay: 0.4s;
  }

  .fade-in-delay-3 {
    transition-delay: 0.6s;
  }

  /* Accordion styles */
  .accordion-content {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .accordion-header.active {
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
  }

  .accordion-header.active .accordion-arrow {
    transform: rotate(180deg);
  }
</style>

<script>
  // Intersection Observer for fade-in animations
  document.addEventListener('DOMContentLoaded', () => {
    const fadeElements = document.querySelectorAll('.fade-in');

    // Set up intersection observer for scroll animations
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target); // Stop observing once visible
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });

    fadeElements.forEach(element => {
      observer.observe(element);
    });

    // Accordion functionality
    const accordionHeaders = document.querySelectorAll('.accordion-header');
    
    accordionHeaders.forEach(header => {
      header.addEventListener('click', () => {
        const content = header.nextElementSibling;
        const isActive = header.classList.contains('active');
        
        // Close all accordions
        accordionHeaders.forEach(h => {
          h.classList.remove('active');
          h.nextElementSibling.style.maxHeight = '0px';
          h.nextElementSibling.style.paddingTop = '0px';
          h.nextElementSibling.style.paddingBottom = '0px';
        });
        
        // Open clicked accordion if it wasn't already active
        if (!isActive) {
          header.classList.add('active');
          content.style.maxHeight = content.scrollHeight + 'px';
          content.style.paddingTop = '16px';
          content.style.paddingBottom = '16px';
        }
      });
    });
  });
</script>